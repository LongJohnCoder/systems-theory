<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>skb_copy</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="The Linux Kernel API"
HREF="index.html"><LINK
REL="UP"
TITLE="Socket Buffer Functions"
HREF="c6671.html#AEN6673"><LINK
REL="PREVIOUS"
TITLE="skb_clone"
HREF="r7917.html"><LINK
REL="NEXT"
TITLE="pskb_copy"
HREF="r7990.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The Linux Kernel API</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="r7917.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="r7990.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="AEN7954"
></A
><SPAN
CLASS="phrase"
><SPAN
CLASS="PHRASE"
>skb_copy</SPAN
></SPAN
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN7958"
></A
><H2
>Name</H2
>skb_copy&nbsp;--&nbsp;     	create private copy of an sk_buff
 </DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN7961"
></A
><H2
>Synopsis</H2
><DIV
CLASS="FUNCSYNOPSIS"
><P
></P
><A
NAME="AEN7963"
></A
><P
><CODE
><CODE
CLASS="FUNCDEF"
>struct sk_buff * skb_copy </CODE
>(const struct sk_buff * skb, int gfp_mask);</CODE
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN7971"
></A
><H2
>Arguments</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><VAR
CLASS="PARAMETER"
>skb</VAR
></DT
><DD
><P
>      buffer to copy
    </P
></DD
><DT
><VAR
CLASS="PARAMETER"
>gfp_mask</VAR
></DT
><DD
><P
>      allocation priority
    </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN7984"
></A
><H2
>Description</H2
><P
>   Make a copy of both an &amp;sk_buff and its data. This is used when the
   caller wishes to modify the data and needs a private copy of the
   data to alter. Returns <CODE
CLASS="CONSTANT"
>NULL</CODE
> on failure or the pointer to the buffer
   on success. The returned buffer has a reference count of 1.
   </P
><P
>&#13;   As by-product this function converts non-linear &amp;sk_buff to linear
   one, so that &amp;sk_buff becomes completely private and caller is allowed
   to modify all the data of returned buffer. This means that this
   function is not recommended for use in circumstances when only
   header is going to be modified. Use <CODE
CLASS="FUNCTION"
>pskb_copy</CODE
> instead.
 </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="r7917.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="r7990.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><SPAN
CLASS="phrase"
><SPAN
CLASS="PHRASE"
>skb_clone</SPAN
></SPAN
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c6671.html#AEN6673"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><SPAN
CLASS="phrase"
><SPAN
CLASS="PHRASE"
>pskb_copy</SPAN
></SPAN
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>